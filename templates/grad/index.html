{% extends "base.html" %}
{% load markup %}
{% load mobile_tags %}

{% block headextra %}
<script type="text/javascript">
	$(document).ready(function() {
		$('#grads').dataTable({
			"bJQueryUI" : true,
			"aaSorting" : [[4, "dsc"]],
			"iDisplayLength" : 10,
			"sPaginationType" : "full_numbers",
		});
	});

</script>
{% endblock %}

{% block title %}{{page_title}}{% endblock %}
{% block h1 %}{{page_title}}{% endblock %}

{% block actions %}
<div id="actions">
<h2>Actions</h2>
<ul>
<li><a href="{% url grad.views.new %}">New Grad</a></li>
<li><a href="{% url grad.views.import_applic %}">Import Applicants</a></li>
<li><a href="{% url grad.views.programs %}">Manage Programs</a></li>
<li><a href="{% url grad.views.requirements %}">Manage Requirements</a></li>
<li><a href="{% url grad.views.letters %}">View All Letters</a></li>
<li class="newsec"><a href="{% url grad.views.search %}">Advanced Search</a></li>
</ul>

</div>
{% endblock %}

{% block subbreadcrumbs %}
<li>
	&gt; {{crumb}}
</li>
{% endblock %}

{% block content %}
<p>In School of Computing Science (CMPT)</p>
<div class="datatable_container">
	<table class="display" id="grads">
		<thead>
			<tr>
				<th scope="col">Student #</th>
				<th scope="col">Student ID</th>
				<th>First</th>
				<th>Last</th>
				<th>Last Updated</th>
				<th>Manage</th>
			</tr>
		</thead>
		<tbody>
			{% for s in grads %}
			<tr>
				<td scope="row">{{s.person.emplid}}</td>
				<td scope="row">{{s.person.userid}}</td>
				<td>{{s.person.first_name}}</td>
				<td>{{s.person.last_name}}</td>
				<td>{{s.updated_at}}</td>
				<td><a href="{% url grad.views.view_all grad_slug=s.slug %}"> View </a> | 
					<a href="{% url grad.views.new_letter grad_slug=s.slug %}"> New Letter </a>
				</td>
			</tr>
			{%empty%}
			<tr>
				<td>
				<p class="empty">
					There are currently no grad student records stored in the database.
				</p></td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>
{% endblock %} 