{% extends "marking/base.html" %}
{% load course_display %}

{% block marking_header_extra %}
<script type="text/javascript">
    $(document).ready(function() {
	oTable = $('#activity_components').dataTable({
		"bJQueryUI": true,
		"bSort": false,
		"bPaginate": false,/* turn off the pagination */
	});
    });
</script>
{% endblock %}

{% block title %}{{activity.name}} Marking Components{% endblock %}
{% block h1 %}{{activity.name}} Marking Components{% endblock %}

{% block subbreadcrumbs %}<li>&gt; <a href="{% url grades.views.course_info course_slug=course.slug %}">{{ course.name }} ({{course.semester.label}})</a></li><li>&gt; <a href="{% url grades.views.activity_info course_slug=course.slug, activity_slug=activity.slug %}">{{activity.name}}</a></li><li>&gt; Marking Components</li>{% endblock %}

{% block content %}
<form action="" method="post">  
     <div class="datatable_container"> 
     {{ formset.management_form }} 
      <table class="display" id="activity_components">
      	<thead class="form_head">
          <tr>
         	<th scope="col">Title</th>
         	<th scope="col">Description</th>
         	<th scope="col">Max Mark</th>
         	<th scope="col">Delete?</th>            
          </tr>         
        </thead>  
        <tbody>
	      {% for form in formset.forms|slice:":-3" %} 	      
		  {{ form|display_form_as_row:"deleted_flag"}}
	      {% endfor %}
	      {% for form in formset.forms|slice:"-3:" %} {# you can add 3 more components #}	      
	          {{ form|display_form_as_row }}
          {% endfor %}
        </tbody>
      </table>
   </div>   
   <div>
   <input class ="submit" type="submit" value="Submit" />
   </div>
</form>  
<a class="redbutton reset_button" href="{% url marking.views.manage_activity_components course_slug=course.slug, activity_slug=activity.slug %}" >Reset</a>

{% endblock %}
