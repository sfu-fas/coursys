{% extends "base.html" %}
{% load static %}
{% load compress %}
{% load forum_display %}

{% block title %}{{ offering.name }}: Discussion Identities{% endblock %}
{% block h1 %}{{ offering.name }}: Discussion Identities{% endblock %}
{% block subbreadcrumbs %}
    <li><a href="{{ offering.get_absolute_url }}">{{ offering.name }}</a></li>
    <li><a href="{% url 'offering:forum:summary' course_slug=offering.slug %}">Discussion</a></li>
    <li>Anonymous Identities</li>
{% endblock %}

{% block headextra %}
    {% compress css %}
    <link rel="stylesheet" href="{% static 'style/forum.css' %}" />
    {% endcompress %}
{% endblock %}

{% block content %}

    <p>
        The CourSys discussion forum allows posting under a pseudonym, if configured by the instructor.
        For this course, the instructor has allowed: <strong>{{ offering_identity_description }}</strong>.
    </p>
    <p>
        Note that in all cases, the actual author identity is recorded by the system and may be recovered in case of abuse/misconduct.
        Instructors and TAs may not post under a pseudonym, only students.
    </p>

    {% if member.role == 'STUD' %}
    <p>Your pseudonym will be consistent across all of your posts on this forum. Your randomly chosen pseudonym: <strong>&ldquo;{{ ident.name }}&rdquo;</strong>.</p>
    {% else %}
    <p>Pseudonyms will be consistent across all of the posts by an individual student: even though anonymous, we enforce an <q>identity</q> for authors.</p>
    {% endif %}

    <p>
        The randomly generated pseudonyms consist of an adjective followed by the surname of a notable scientist or hacker.
        (This method was borrowed from the random names generated for <a href="https://www.docker.com/">Docker</a> containers,
        and you can <a href="https://github.com/moby/moby/blob/master/pkg/namesgenerator/names-generator.go">examine the original source</a> if you like.)
        Here are a few randomly generated pseudonyms, so you can get a sense of how they look:
    </p>
    <ul class="bulleted">
        {% for name in sample_names %}
        <li>&ldquo;{{ name }}&rdquo;</li>
        {% endfor %}
    </ul>

    <section id="avatar">
    <h2>Avatar Images</h2>
    <p>
        We use avatar images from <a href="https://en.gravatar.com/">Gravatar</a>. If you would like to customize your
        image, you can upload an image associated with your email address, &ldquo;{{ ident.member.person.email }}&rdquo;.
    </p>
    <form action="" method="post" enctype="multipart/form-data">{% csrf_token %}
    <input type="hidden" name="form" value="avatar" />
    {{ avatar_form | forum_form:"Change" }}
    </form>

    </section>
{% endblock %}