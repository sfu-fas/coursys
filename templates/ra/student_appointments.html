{% extends "base.html" %}
{% block title %}RA Appointments for {{ student.first_name}} {{ student.last_name }}{% endblock %}
{% block h1 %}RA Appointments for {{ student.first_name}} {{ student.last_name }}{% endblock %}

{% block subbreadcrumbs %}<li>&gt; <a href="{% url ra.views.search %}">RA Appointment Search</a></li><li>&gt; Appointments for {{ student.first_name }} {{ student.last_name }}</li>{% endblock %}

{% block headextra %}
<script type="text/javascript">
$(document).ready(function() {
  $('#appointments').dataTable( {
    'bPaginate': false,
    'bInfo': false,
    'bLengthChange': false,
    "bJQueryUI": true,
    'aaSorting': [[1, 'asc']],
  } );
} );
</script>
{% endblock %}

{% block actions %}
<div id="actions">
<h2>Actions</h2>
<ul>
<li><a href="{% url ra.views.new %}">New RA appointment</a></li>
</ul>
</div>
{% endblock %}

{%block content%}
<div class="table_container">
    <table class="info">
        <tbody>
        <tr>
            <th class="ui-state-default">Last Name</th>
            <td>{{ student.last_name }}</td>
        </tr>
        <tr>
            <th class="ui-state-default">First Name</th>
            <td>{{ student.first_name }}</td>
        </tr>
        <tr>
            <th class="ui-state-default">Middle Name</th>
            <td>{{ student.middle_name }}</td>
        </tr>
        <tr>
            <th class="ui-state-default">Student Number</th>
            <td>{{ student.emplid }}</td>
        </tr>
        <tr>
            <th class="ui-state-default">Email Address</th>
            <td><a href="mailto:{{ student.email }}">{{ student.email }}</a></td>
        </tr>
        </tbody>
    </table>
</div>

{%if appointments %}
    <div class="datatable_container">
        <table id="appointments" class="display">
            <thead>
                <tr>
                    <th scope="col">Start Date</th>
                    <th scope="col">End Date</th>
                    <th scope="col">Title</th>
                    <th scope="col">Hiring Faculty</th>
                    <th scope="col">Actions</th>
                </tr>
            </thead>
            <tbody>
            {% for appointment in appointments %}
            <tr>
                <td scope="row"><span class="sort">{{ appointment.start_date }}</span>{{ appointment.start_date }}</td>
                <td>{{ appointment.end_date }}</td>
                <td>{{ appointment.account.title }}</td>
                <td>{{ appointment.hiring_faculty.first_name}} {{ appointment.hiring_faculty.last_name }}</td>
                <td><a href="{% url ra.views.edit ra_slug=appointment.slug %}">Edit</a></td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{%else%}
    <p>No RA Appointments found.</p>
{%endif%}

{%endblock content%}