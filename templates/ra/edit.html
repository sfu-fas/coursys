{% extends "base.html" %}
{% load form_display %}

{% block headextra %}
<script type="text/javascript" src="/media/js/ra.js"></script>
<link rel="stylesheet" type="text/css" href="/media/ra/ra.css" />
{% endblock %}

{% block title %}Update RA Appointment for {{ appointment.person.name }}{% endblock %}
{% block h1 %}Update RA Appointment for {{ appointment.person.name }}{% endblock %}

{% block subbreadcrumbs %}
<li>&gt; <a href="{% url ra.views.search %}">RAs</a></li>
<li>&gt; <a href="{% url ra.views.student_appointments userid=appointment.person.userid%}"> {{ appointment.person.name }}</a></li>
<li>&gt; <a href="{% url ra.views.view ra_slug=appointment.slug %}">{{ appointment.account.title }} starting {{ appointment.start_date|date:GRAD_DATE_FORMAT }}</a></li>
<li>&gt; Edit</li>{% endblock %}

{% block content %}
  <div id="form_container">
    <form action="{% url ra.views.edit ra_slug=appointment.slug %}" method="POST">{% csrf_token %}
      <fieldset style="list-style: none;">
        <legend>Contract Information</legend>
        {{ raform|as_dl_excludefields:"lump_sum_pay,biweekly_pay,pay_periods,hourly_pay,hours,pay_frequency,reappointment,medical_benefits,dental_benefits,notes,comments" }}

        <p><legend>Salary Information</legend></p>
        <table id="salary_info">
          <tr>
            <td class="salary_first">{{ raform.pay_frequency.label }}:*</td>
            <td>{{ raform.pay_frequency }}{{ raform.pay_frequency.errors }}</td>
          </tr>
          <tr>
            <td class="salary_first">{{ raform.lump_sum_pay.label }}:*</td>
            <td>{{ raform.lump_sum_pay }}{{ raform.lump_sum_pay.errors }}</td>
          </tr>
                
          <tr>
            <td class="salary_first">{{ raform.biweekly_pay.label }}:*</td>
            <td>{{ raform.biweekly_pay }}{{ raform.biweekly_pay.errors }}</td>
            <td class="salary_label">{{ raform.pay_periods.label }}:*</td>
            <td>{{ raform.pay_periods }}{{ raform.pay_periods.errors }}</td>
          </tr>
                
          <tr>
            <td class="salary_first">{{ raform.hourly_pay.label }}:*</td> 
            <td>{{ raform.hourly_pay }}{{ raform.hourly_pay.errors }}</td>
            <td class="salary_label">{{ raform.hours.label }}:*</td>
            <td>{{ raform.hours }}{{ raform.hours.errors }}</td>
          </tr>
        </table>

        <p class="helptext">* This field is required.</p>
        
        <p><legend>Other Information</legend></p>
        {{ raform|as_dl_excludefields:"person,sin,hiring_faculty,unit,hiring_category,scholarship,project,account,start_date,end_date,pay_frequency,lump_sum_pay,biweekly_pay,pay_periods,hourly_pay,hours" }}
        <p><input type="submit" class="submit" value="Submit" /></p>
      </fieldset>
    </form>  
  </div>
{% endblock %}