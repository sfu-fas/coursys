{% extends "submission/component_view.html" %}
{% load submission_filters %}

{% block h1 %}Submission history for {{activity.name}}{% endblock %}

{% block breadcrumbs_extra %}
<li>&gt; <a href="">Submission History</a></li>
{% endblock %}

{% block content %}
 <a href="{% url submission.views.show_components course_slug=course.slug activity_slug=activity.slug%}" class="button">back</a>
<!--{% regroup submitted_component|dictsort:"component" by component as by_component %}-->
{% ifequal submitted_component None %}
    <h2>Currently you have no submission for this activity.</h2>
{% endifequal %}

{% if empty_component %}
    You have no submission for:
    <ul>
        {% for empty_item in empty_component %}
            <li>{{empty_item.title}}</li>
        {% endfor %}
    </ul>
    <a href ="{% url submission.views.add_submission course_slug=course.slug activity_slug=activity.slug%}">Submit now</a>
{% endif %}

{% regroup submitted_component|dictsort:"component" by component as by_component %}
{% for component in by_component %}
<h2>{{component.grouper.title}}</h2>
{% for item in component.list %}
<ul>
    <li><label>time:</label>{{item.get_time}}</li>
    {% ifequal item.get_type 'URL' %}
        <li><a href="{{iten.get_url}}">{{item.get_url}}</a></li>
    {% else%}
        <li><label>download:</label><a href ={{item.get_url}}>down</a></li>
    {% endifequal %}
    {% if item.get_size %}<li><label>size:</label>{{item.get_size_in_kb}} KB</li>{% endif %}
</ul>
{% endfor %}
{% endfor %}



{% endblock %}

